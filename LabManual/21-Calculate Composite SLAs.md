---
wts:
    title: '21 - 複合 SLA の計算 (5分)'
    module: 'モジュール 06: Azure Cost Management およびサービス レベル アグリーメントに関する説明'
---
# 21 - 複合 SLA の計算 (5 分)

このチュートリアルでは、Azure サービスの可用性 SLA を決定し、アプリケーション複合 SLA ベースの推定可用性を計算します。

このサンプル アプリケーションは、次の Azure サービスで構成されています。ここでは、高レベルの例を提供することとし、アーキテクチャーの詳細な構成や考慮事項については割愛します。

+ **App Service**: アプリケーションをホストします。
+ **Azure AD B2C**: ユーザー ログインを認証し、プロファイルを管理します。
+ **Application Gateway**: アプリケーション アクセスやスケーリングを管理します。 
+ **Azure SQL Database**: アプリケーション データを格納します。 

# タスク 1: アプリケーションの SLA 稼働率のパーセンテージ値を決定します。

1. ブラウザーで、「 [Azureサービスの SLA サマリー](https://azure.microsoft.com/ja-jp/support/legal/sla/summary/)」ページに移動します。

2. **App Service** の SLA アップタイム値 **99.95%** を見つけます。「**詳細をすべて表示する**」 をクリックし、「**SLA の詳細**」 を展開します。**「月間稼働率」** と **「サービス クレジット」** を確認します。

3. SLA Web ページに戻り、**「Azure Active Directory B2C」** サービスを見つけて、SLA 稼働率の値 **「99.99%」** を確認します。 

4. **Application Gateway** の SLA 稼働率 **99.95%** を確認します。 

5. Azure SQL データベースでは Premium レベルを使用しますが、ゾーン冗長デプロイ向けには構成されていません。**「Azure SQL Database」** SLA 稼働率 **「99.99%」** を見つけます。 

    **注**: Azure SQL Database の構成とデプロイごとに、稼働率が異なります。デプロイと構成を計画およびコスト管理する際には、必要な稼働率を明確にすることが重要です。稼働率の変更が小さくても、サービス コストに影響を与える可能性があり、構成の複雑さが増大する可能性があります。Azure SLA 概要 Web ページでは、**Virtual Machines**、**ストレージ アカウント**、**Cosmos DB** などのサービスのSLAについても確認できます。

# タスク 2: アプリケーションの複合 SLA のアップタイム率を計算する

1. アプリケーションを構成するサービスのいずれかが利用できない場合、ユーザーはサインインしてアプリケーションを利用できません。そのため、アプリケーションの合計稼働率(uptime)は次の要素で構成されます。

    **App Service % uptime** X **Azure AD B2C % uptime** X  **Azure Application Gateway % uptime** X **Azure SQL Database % uptime** = **Total % Uptime**

    パーセントで表すと次のとおりです。

    **99.95%** X **99.99%** X **99.95%** X **99.99%** = **99.88%**

    これは、現在のサービスおよびアーキテクチャを使用したアプリケーションの SAL ベースの推定可用性です。
